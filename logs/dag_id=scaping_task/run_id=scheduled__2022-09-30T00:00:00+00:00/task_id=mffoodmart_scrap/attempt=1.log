[2022-10-01T16:35:49.124+0600] {taskinstance.py:1171} INFO - Dependencies all met for <TaskInstance: scaping_task.mffoodmart_scrap scheduled__2022-09-30T00:00:00+00:00 [queued]>
[2022-10-01T16:35:49.128+0600] {taskinstance.py:1171} INFO - Dependencies all met for <TaskInstance: scaping_task.mffoodmart_scrap scheduled__2022-09-30T00:00:00+00:00 [queued]>
[2022-10-01T16:35:49.128+0600] {taskinstance.py:1368} INFO - 
--------------------------------------------------------------------------------
[2022-10-01T16:35:49.128+0600] {taskinstance.py:1369} INFO - Starting attempt 1 of 1
[2022-10-01T16:35:49.128+0600] {taskinstance.py:1370} INFO - 
--------------------------------------------------------------------------------
[2022-10-01T16:35:49.151+0600] {taskinstance.py:1389} INFO - Executing <Task(PythonOperator): mffoodmart_scrap> on 2022-09-30 00:00:00+00:00
[2022-10-01T16:35:49.153+0600] {standard_task_runner.py:52} INFO - Started process 20423 to run task
[2022-10-01T16:35:49.155+0600] {standard_task_runner.py:79} INFO - Running: ['airflow', 'tasks', 'run', 'scaping_task', 'mffoodmart_scrap', 'scheduled__2022-09-30T00:00:00+00:00', '--job-id', '11', '--raw', '--subdir', 'DAGS_FOLDER/mffoodmart_scraping.py', '--cfg-path', '/tmp/tmpciqv9krj', '--error-file', '/tmp/tmptylfjq9i']
[2022-10-01T16:35:49.155+0600] {standard_task_runner.py:80} INFO - Job 11: Subtask mffoodmart_scrap
[2022-10-01T16:35:49.198+0600] {task_command.py:371} INFO - Running <TaskInstance: scaping_task.mffoodmart_scrap scheduled__2022-09-30T00:00:00+00:00 [running]> on host MahimPC.
[2022-10-01T16:35:49.261+0600] {taskinstance.py:1581} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=scaping_task
AIRFLOW_CTX_TASK_ID=mffoodmart_scrap
AIRFLOW_CTX_EXECUTION_DATE=2022-09-30T00:00:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2022-09-30T00:00:00+00:00
[2022-10-01T16:38:01.515+0600] {process_utils.py:125} INFO - Sending Signals.SIGTERM to group 20423. PIDs of all processes in the group: [20424, 20450, 20451, 20462, 20466, 20467, 20469, 20504, 21428, 21486, 20481, 20423]
[2022-10-01T16:38:01.516+0600] {process_utils.py:80} INFO - Sending the signal Signals.SIGTERM to group 20423
[2022-10-01T16:38:01.516+0600] {taskinstance.py:1553} ERROR - Received SIGTERM. Terminating subprocesses.
[2022-10-01T16:38:01.530+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=21486, status='terminated', started='16:37:48') (21486) terminated with exit code None
[2022-10-01T16:38:01.530+0600] {taskinstance.py:1902} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/mahim-ubuntu/home/Airflow/venv2/lib/python3.10/site-packages/airflow/operators/python.py", line 171, in execute
    return_value = self.execute_callable()
  File "/home/mahim-ubuntu/home/Airflow/venv2/lib/python3.10/site-packages/airflow/operators/python.py", line 189, in execute_callable
    return self.python_callable(*self.op_args, **self.op_kwargs)
  File "/home/mahim-ubuntu/home/Airflow/workdir/dags/mffoodmart_scraping.py", line 12, in scrap_mffoodmart
    scrap_mess = check_output(['npm','run', 'scrapMfffodmart'])
  File "/usr/lib/python3.10/subprocess.py", line 420, in check_output
    return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,
  File "/usr/lib/python3.10/subprocess.py", line 503, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
  File "/usr/lib/python3.10/subprocess.py", line 1136, in communicate
    stdout = self.stdout.read()
  File "/home/mahim-ubuntu/home/Airflow/venv2/lib/python3.10/site-packages/airflow/models/taskinstance.py", line 1555, in signal_handler
    raise AirflowException("Task received SIGTERM signal")
airflow.exceptions.AirflowException: Task received SIGTERM signal
[2022-10-01T16:38:01.533+0600] {taskinstance.py:1407} INFO - Marking task as FAILED. dag_id=scaping_task, task_id=mffoodmart_scrap, execution_date=20220930T000000, start_date=20221001T103549, end_date=20221001T103801
[2022-10-01T16:38:01.558+0600] {standard_task_runner.py:92} ERROR - Failed to execute job 11 for task mffoodmart_scrap (Task received SIGTERM signal; 20423)
[2022-10-01T16:38:01.583+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20466, status='terminated', started='16:35:49') (20466) terminated with exit code None
[2022-10-01T16:38:01.583+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20504, status='terminated', started='16:35:49') (20504) terminated with exit code None
[2022-10-01T16:38:01.584+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20467, status='terminated', started='16:35:49') (20467) terminated with exit code None
[2022-10-01T16:38:01.584+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20450, status='terminated', started='16:35:48') (20450) terminated with exit code None
[2022-10-01T16:38:01.584+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20469, status='terminated', started='16:35:49') (20469) terminated with exit code None
[2022-10-01T16:38:01.584+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20423, status='terminated', exitcode=1, started='16:35:48') (20423) terminated with exit code 1
[2022-10-01T16:38:01.584+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20462, status='terminated', started='16:35:48') (20462) terminated with exit code None
[2022-10-01T16:38:01.585+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20424, status='terminated', started='16:35:48') (20424) terminated with exit code None
[2022-10-01T16:38:01.585+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20481, status='terminated', started='16:35:49') (20481) terminated with exit code None
[2022-10-01T16:38:01.585+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=21428, status='terminated', started='16:37:18') (21428) terminated with exit code None
[2022-10-01T16:38:01.810+0600] {process_utils.py:75} INFO - Process psutil.Process(pid=20451, status='terminated', started='16:35:48') (20451) terminated with exit code None
